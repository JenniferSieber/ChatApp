{% extends 'base.html' %}
{% block content %}
  <div class="message-box">
    <header>
      <h2 class="header">Welcome to the Chatroom! </h2>
      <h3> Room Code: {{code}} </h3>
    </header>

    <section class="messages" id="messages">
      <!-- Messages Dynamically post here -->
    </section>

    <div class="inputs">
      <textarea 
        name="message"
        id="message"
        rows="3"
        placeholder="Type your message..."
        oninput="autoResize(this)"
      ></textarea>
      <button
        type="button"
        name="send"
        id="send-btn" 
        class="send-btn"
        onClick="sendMessage()"
      >
        Send Message
      </button>
    </div>

    <footer title="Leave this Chatroom" class="leave">
      <div class="leave-link" title="Leave this Chatroom">
      <a href="{{ url_for('home') }}">
          <div class="leave-icon"><i class="fas fa-dragon"></i></div>
          <div class="leave-text">Leave this Chatroom...</div>
      </a>
    </div>
    </footer>
  </div>

  {% for msg in messages %}
  <script type="text/javascript">
    createMessage('{{msg.name}}', '{{msg.message}}', '{{msg.date_created}}')
  </script>
  {% endfor %}

  <script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}
